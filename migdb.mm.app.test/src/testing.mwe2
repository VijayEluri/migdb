module testing.Workflow

import org.eclipse.emf.mwe.utils.*
import org.eclipse.xtext.mwe.*


import org.eclipse.xtext.mwe.SlotEntry
import org.eclipse.xtext.mwe.ResourceLoadingSlotEntry
import org.eclipse.xtext.mwe.Validator
import org.eclipse.xtext.mwe.NameBasedFilter

import org.eclipse.emf.mwe.utils.Writer
import org.eclipse.emf.mwe.utils.Reader

import eu.collectionspro.mwe.*

Workflow {
/**/
	bean=org.eclipse.emf.mwe.utils.StandaloneSetup {
		platformUri=".."
		registerGeneratedEPackage = "mm.app.AppPackage"
	}
/**/
	component = org.eclipse.emf.mwe.utils.DirectoryCleaner {
		directory = "output"
	}	
/**/
	component = QVTOExecutor {
		transformationFile = "qvto/build-test-model.qvto"
		outputSlot = "myModel"
	}
/**/	
	component = ModelInspector {
		modelSlot = "myModel"
	}
/**/
	component = QVTOExecutor {
		inputSlot = "myModel"
		transformationFile = "../migdb.qvto/transforms/evolution/populate_generations_app.qvto"
		outputSlot = "outModel"
	}
/**/	
	component = Writer {
		modelSlot = "outModel"
		uri = "output/outResult.xmi"
		
		cloneSlotContents = false
		useSingleGlobalResourceSet = true
	}		
/** /	
	component = org.eclipse.emf.mwe.utils.Reader {
		modelSlot = "xxx"
		uri = "fdsafa"
	}
/**/	
}