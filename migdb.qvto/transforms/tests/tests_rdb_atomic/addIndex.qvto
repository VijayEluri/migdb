import builder_rdb_link;
modeltype RDB uses "http://www.collectionspro.eu/jam/mm/rdb";
transformation addindex(out inoutModel : RDB);


main() {
	log("TEST_RDB");
	log("op: ADDINDEX");	
	
	var model : RDB::ModelRoot := object ModelRoot {
		modelGenerations += object ModelGeneration {
			isMissing := false;
			schemas := Set{_schema("public", 
								   OrderedSet{_table("first", OrderedSet{_column("col", RDB::PrimitiveType::char)})}, 
								   _sequence("seq_global", 1))};
		};
	};
	
	model.operations += _addIndex("public", "first", "IX_col_first", Set{"col"});
	 
}