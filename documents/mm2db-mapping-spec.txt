1 Mapov´ an´ dotlessi tcaron r´ dotlessid do db
Tento dokument zav´ ad´ dotlessi pojmy a znacaron cen´ dotlessi pro popis mapov´ an´ dotlessi JAM meta-
modelu do datab´ azov´ eho metamodelu. Zaj´ dotlessim´ a n´ as zde zat´ dotlessim jen transformace
business modelu na datab´ azov´ e sch´ ema, pozdcaron eji zcaron rejmcaron e pcaron rid´ ame jecaron stcaron e dalcaron s´ dotlessi vlast-
nosti. V prvn´ dotlessi chv´ dotlessili upust´ dotlessime od zcela dokonal´ eho popisu (hlavncaron e co se vstupn´ dotlessich
a v´ ystupn´ dotlessich objektring u t´ ycaron ce), ale i tak n´ am zaveden´ e pojmy jistcaron e zjednoducaron s´ dotlessi do-
mluvu.
E  ... Mnocaron zina vcaron sech mocaron zn´ ych objektring u vstupn´ dotlessiho modelu (intance tcaron r´ dotlessid JAM
metamodelu). Obsahuje hlavncaron e tcaron r´ dotlessidy a jejich property. Libovolnou podmnocaron zinu
E  naz´ yv´ ame  modelem  .
D  ... Mnocaron zina vcaron sech mocaron zn´ ych objektring u v´ ystupn´ dotlessiho modelu (instance tcaron r´ dotlessid z
metamodelu popisuj´ dotlessic´ dotlessi db sch´ ema). Obsahuje tabulky, sloupce, kl´ dotlessicaron ce, atd. Libo-
volnou podmnocaron zinu  D  naz´ yv´ ame  sch´ ematem  .
P
( ) ... potencaron cn´ dotlessi mnocaron zina mnocaron ziny X (power set, mnocaron zina vcaron sech podmnocaron zin).  X
P
Funkce tvaru  pi  :  E  arrowright  ( ) naz´ yv´ ame  D  mapovac´ dotlessimi funkcemi  . Mapovac´ dotlessi
funkce zobrazuje element vstupn´ dotlessiho modelu na mnocaron zinu elementring u v´ ystupn´ dotlessiho
modelu a je z´ akladn´ dotlessim prvkem pcaron ri konstrukci slocaron zitcaron ejcaron s´ dotlessich transformac´ dotlessi. Mnocaron zinu
P
vcaron sech takov´ ych funkc´ dotlessi znacaron c´ dotlessime Pi =  E  arrowright  ( ).  D
Uspocaron r´ adanou dvojici  omega  = [  pi,g  ]  element  Pi  ×  (  E  arrowright {  0 1 ) naz´ yv´ ame  ,  }  mapo-
vac´ dotlessim pravidlem  , funkci  g  pak  guardem  mapovac´ dotlessiho pravidla. Guard m´ a pro
mapovac´ dotlessi pravidlo v´ yznam podm´ dotlessinky, kter´ a mus´ dotlessi b´ yt splncaron ena, aby bylo pra-
vidlo aplikov´ ano, tedy aby byla ucaron zita mapovac´ dotlessi funkce  pi  . L´ epe patrn´ e je to
z definice obrazu elementring u n´ dotlessicaron ze. Mnocaron zinu vcaron sech mapovac´ dotlessich pravidel znacaron c´ dotlessime
Omega = Pi  ×  (  E  arrowright {  0 1 ).  ,  }
Obraz  elementu  e  element  E  pro pravidlo  omega  = [  pi,g  ]  element  Omega definujeme jako
braceleftbigg
emptyset
pokud ( ) = 0  g e  ,
P
db e,omega  (  ) :  E  ×  Omega  arrowright  ( ) =  D  (1.1)
pi e  ( ) pokud ( ) = 1  g e  .
Smyslem mapovac´ dotlessich funkc´ dotlessi a pravidel je mocaron znost na element´ arn´ dotlessi ´ urovni
popsat jak´ e datab´ azov´ e objekty jsou tcaron reba pro serializaci ncaron ejak´ eho elementu ze
vstupn´ dotlessiho modelu. Rring uzn´ e mapovac´ dotlessi funkce mohou vracet rring uzn´ e v´ ystupn´ dotlessi objekty
a realizovat tak rring uzn´ a d´ dotlessilcaron c´ dotlessi mapov´ an´ dotlessi. caron Casto budeme cht´ dotlessit, aby v´ ysledkem funkce
byla pr´ azdn´ a mnocaron zina (napcaron r´ dotlessiklad ve smyslu, caron ze dan´ a funkce neum´ dotlessi mapovat
ncaron ejak´ em vstupn´ dotlessi objektu). Nebo aby byla funkce poucaron zita jen v situaci, kdy jsou
splncaron en´ e dodatecaron cn´ e podm´ dotlessinky. Napcaron r. tcaron r´ dotlessida  Person  potcaron rebuje k standardn´ dotlessi seri-
alizaci tabulku, a minim´ alncaron e sloupec pro prim´ arn´ dotlessi kl´ dotlessicaron c. V´ ysledkem jednoduch´ e
1
 = Page 1 =
1. Mapov´ an´ dotlessi tcaron r´ dotlessid do db
mapovac´ dotlessi funkce jsou tedy tyto dva objekty. V pcaron r´ dotlessipadcaron e, caron ze se ale jedn´ a o em-
bedded tcaron r´ dotlessidu, chceme, aby se tato tcaron r´ dotlessida zobrazila na pr´ azdnou mnocaron zinu (nem´ a
b´ yt serializov´ ana sama o sobcaron e, ale jakou soucaron c´ ast ostatn´ dotlessich tcaron r´ dotlessid, kter´ e ji referen-
cuj´ dotlessi). Mring ucaron zeme snadno poucaron z´ dotlessit guard kontroluj´ dotlessic´ dotlessi, caron ze se nejedn´ a o tcaron r´ dotlessidu s vlastnost´ dotlessi
isEmbedded.
Libovolnou mnocaron zinu mapovac´ dotlessich pravidel naz´ yv´ ame  mapov´ an´ dotlessim  (obvykle
P
d´ ale znacaron cen´ a jako  lambda  ). Mnocaron zinu vcaron sech mapov´ an´ dotlessi oznacaron cujeme jako Lambda =  (Omega)).
Mapov´ an´ dotlessi sdrucaron zuje jednoduch´ e mapovac´ dotlessi funkce/pravidla a umocaron zcaron nuje popsat
slocaron zitcaron ejcaron s´ dotlessi transformaci.  Existence term´ dotlessinu mapov´ an´ dotlessi n´ am tak´ e v budoucnu usnadn´ dotlessi
mluvit napcaron r. o tom, jestli je sada mapovac´ dotlessich pravidel ´ upln´ a, nekonfliktn´ dotlessi atd.
M´ dotlessirn´ ym rozcaron s´ dotlessicaron ren´ dotlessim definujeme obraz elementu  e  element  E  pcaron ri mapov´ an´ dotlessi  lambda  element  Lambda
jako
uniondisplay
P
db e,lambda  (  ) :  E  ×  Lambda  arrowright  ( ) =  D  db e,rho .  (  )  (1.2)
rho lambda  element
P
Zcela analogicky definujme jecaron stcaron e obraz modelu  M  element  ( ) pcaron ri mapov´ an´ dotlessi  E
lambda  element  Lambda takto:
uniondisplay  uniondisplay
P  P
db M,lambda  (  ) : ( )  E  ×  Lambda  arrowright  ( ) =  D  db e,omega  (  ) =  db e,lambda .  (  )  (1.3)
omega lambda,e E  element  element  e E  element
TODO: Motivace obrazring u, vzory, ´ uplnost, ..
1.1  Popis mapovac´ dotlessich pravidel
TODO: ...
2
 = Page 2 =
